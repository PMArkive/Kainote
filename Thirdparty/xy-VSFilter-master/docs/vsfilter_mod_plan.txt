--------------------------------------------------------------------------------------------
vsfilter修改计划：
1.subpic的dirty rect由一个改为多个；
2.任何时候都用缓存方式+线程方式生成subpic，缓存大小可设置；
3.CMemSubPicAllocator改为使用内存池的方式；
4.参照CSubPicQueueNoThread，直接渲染字幕到pDynamic，减少从pStatic到pDynamic的一次复制
5.CSTSStyleMap改为将STSStyle按名排序，分配编号
--------------------------------------------------------------------------------------------
任何时候都用缓存方式+线程方式生成subpic，缓存大小可设置

字幕可以分成很多个时间段互不相交STSSegment。每个STSSegment，可分为有动画特效、无动画特效两种。无动画特效的，只对应一张字幕图片；有动画特效，可以对应为连续的多张字幕图片，每张持续时间为一个固定的较小的时长（可设为视频一帧的持续时间）（最后一张除外），第一张开始时间为此STSSegment的开始时间，以后每张开始时间为上一张的结束时间，最后一张结束时间为此STSSegment的结束时间。
对任一给定时刻，要生成此时的字幕图片，可先找到包含此时刻的STSSegment，若无则此时无字幕；否则，若此STSSegment无动画特效，生成此STSSegment对应的字幕图片，图片的开始、结束时间设为此STSSegment的开始、结束时间；若此STSSegSTSSegment有动画特效间，生成此时刻的字幕图片，图片的开始、结束时间依上述方式设定。
若字幕以帧号标记持续时段，则上述方式存在问题：需根据视频帧速计算每帧对应时间。而对于可变帧速的视频，如何预先计算给定帧对应的时间？（解决方案：直接在字幕中指定帧速？）






